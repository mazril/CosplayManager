<mah:MetroWindow x:Class="CosplayManager.Views.SplitProfileWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
                 xmlns:viewmodels="clr-namespace:CosplayManager.ViewModels"
                 mc:Ignorable="d"
                 Title="Podziel Profil Postaci" Height="600" Width="800"
                 WindowStartupLocation="CenterOwner"
                 d:DataContext="{d:DesignInstance Type=viewmodels:SplitProfileViewModel, IsDesignTimeCreatable=False}">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="{Binding OriginalProfileName, StringFormat='Podział profilu: {0}'}" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
            <TextBlock Text="Nazwa grupy 1:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox Text="{Binding NewProfile1Name, UpdateSourceTrigger=PropertyChanged}" Width="200" Margin="0,0,20,0"/>
            <TextBlock Text="Nazwa grupy 2:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox Text="{Binding NewProfile2Name, UpdateSourceTrigger=PropertyChanged}" Width="200"/>
        </StackPanel>

        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <GroupBox Header="Grupa 1" Grid.Column="0" Margin="0,0,5,0">
                <ListView ItemsSource="{Binding Group1Images}">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Image Source="{Binding ThumbnailPath}" Width="50" Height="50" Margin="0,0,5,0" Stretch="Uniform"/>
                                <TextBlock Text="{Binding FileName}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </GroupBox>

            <StackPanel Grid.Column="1" Orientation="Vertical" VerticalAlignment="Center" HorizontalAlignment="Center">
                <Button Content="&gt;&gt;" Margin="5" ToolTip="Przenieś zaznaczone do Grupy 2" IsEnabled="False"/>
                <Button Content="&lt;&lt;" Margin="5" ToolTip="Przenieś zaznaczone do Grupy 1" IsEnabled="False"/>
            </StackPanel>


            <GroupBox Header="Grupa 2" Grid.Column="2" Margin="5,0,0,0">
                <ListView ItemsSource="{Binding Group2Images}">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Image Source="{Binding ThumbnailPath}" Width="50" Height="50" Margin="0,0,5,0" Stretch="Uniform"/>
                                <TextBlock Text="{Binding FileName}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </GroupBox>
        </Grid>

        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="Zatwierdź Podział" Command="{Binding ConfirmSplitCommand}" IsDefault="True" Margin="0,0,10,0" Padding="10,5"/>
            <Button Content="Anuluj" Command="{Binding CancelSplitCommand}" IsCancel="True" Padding="10,5"/>
        </StackPanel>
    </Grid>
</mah:MetroWindow>